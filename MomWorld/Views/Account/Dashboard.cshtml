@{
    Layout = "~/Views/Shared/_UserLayout.cshtml";
    ViewBag.Title = "Dashboard";

}

<head>
    <title>@ViewBag.Title.</title>
</head>
<body class="bg-2">

    <!-- Page content -->
    <div id="content" class="col-md-12">


        <!-- page header -->
        <div class="pageheader">

            <h2>
                <i class="fa fa-tachometer"></i> Thống kê
            </h2>

            
        </div>
        <!-- /page header -->
        <!-- content main container -->
        <div class="main">

            <!-- cards -->
            <div class="row cards">
                <div class="card-container col-lg-3 col-sm-6 col-sm-12">
                    <div class="card card-redbrown hover">
                        <div class="front">
                            <div class="media">
                                <span class="pull-left">
                                    <i class="fa fa-users media-object"></i>
                                </span>
                                <div class="media-body">
                                    <small>Thành viên</small>
                                    <h2 class="media-heading animate-number" data-value="3659"
                                        data-animation-duration="500">
                                        0
                                    </h2>
                                </div>
                            </div>
                            <div class="progress-list">
                                <div class="details">
                                    <div class="title">Kế hoạch trong tháng %</div>
                                </div>
                                <div class="status pull-right bg-transparent-black-1">
                                    <span class="animate-number" data-value="83"
                                          data-animation-duration="1500">0</span>%
                                </div>
                                <div class="clearfix"></div>
                                <div class="progress progress-little progress-transparent-black">
                                    <div class="progress-bar animate-progress-bar"
                                         data-percentage="83%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="back">
                            <a href="index.html#">
                                <i class="fa fa-bar-chart-o fa-4x"></i>
                                <span>Check Summary</span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="card-container col-lg-3 col-sm-6 col-sm-12">
                    <div class="card card-blue hover">
                        <div class="front">
                            <div class="media">
                                <span class="pull-left">
                                    <i class="fa fa-pencil-square-o media-object"></i>
                                </span>
                                <div class="media-body">
                                    <small>Bài viết</small>
                                    <h2 class="media-heading animate-number" data-value="19214"
                                        data-animation-duration="1500">
                                        0
                                    </h2>
                                </div>
                            </div>
                            <div class="progress-list">
                                <div class="details">
                                    <div class="title">Kế hoạch trong tháng %</div>
                                </div>
                                <div class="status pull-right bg-transparent-black-1">
                                    <span class="animate-number" data-value="100"
                                          data-animation-duration="1500">0</span>%
                                </div>
                                <div class="clearfix"></div>
                                <div class="progress progress-little progress-transparent-black">
                                    <div class="progress-bar animate-progress-bar"
                                         data-percentage="100%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="back">
                            <a href="index.html#">
                                <i class="fa fa-bar-chart-o fa-4x"></i>
                                <span>Check Summary</span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="card-container col-lg-3 col-sm-6 col-sm-12">
                    <div class="card card-greensea hover">
                        <div class="front">
                            <div class="media">
                                <span class="pull-left">
                                    <i class="fa fa-thumbs-up media-object"></i>
                                </span>
                                <div class="media-body">
                                    <small>Thích</small>
                                    <h2 class="media-heading animate-number" data-value="169541"
                                        data-animation-duration="1500">
                                        0
                                    </h2>
                                </div>
                            </div>
                            <div class="progress-list">
                                <div class="details">
                                    <div class="title">Kế hoạch trong tháng %</div>
                                </div>
                                <div class="status pull-right bg-transparent-black-1">
                                    <span class="animate-number" data-value="42"
                                          data-animation-duration="1500">0</span>%
                                </div>
                                <div class="clearfix"></div>
                                <div class="progress progress-little progress-transparent-black">
                                    <div class="progress-bar animate-progress-bar"
                                         data-percentage="42%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="back">
                            <a href="index.html#">
                                <i class="fa fa-bar-chart-o fa-4x"></i>
                                <span>Check Summary</span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="card-container col-lg-3 col-sm-6 col-xs-12">
                    <div class="card card-slategray hover">
                        <div class="front">
                            <div class="media">
                                <span class="pull-left">
                                    <i class="fa fa-eye media-object"></i>
                                </span>
                                <div class="media-body">
                                    <small>Lượt truy cập</small>
                                    <h2 class="media-heading animate-number" data-value="9634"
                                        data-animation-duration="1500">
                                        0
                                    </h2>
                                </div>
                            </div>
                            <div class="progress-list">
                                <div class="details">
                                    <div class="title">Kế hoạch trong tháng %</div>
                                </div>
                                <div class="status pull-right bg-transparent-black-1">
                                    <span class="animate-number" data-value="25"
                                          data-animation-duration="1500">0</span>%
                                </div>
                                <div class="clearfix"></div>
                                <div class="progress progress-little progress-transparent-black">
                                    <div class="progress-bar animate-progress-bar"
                                         data-percentage="25%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="back">
                            <a href="index.html#">
                                <i class="fa fa-bar-chart-o fa-4x"></i>
                                <span>Check Summary</span>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
            <!-- /cards -->
            <!-- row -->
            <div class="row">

                <!-- col 8 -->
                <div class="col-lg-8 col-md-12">


                    <!-- tile -->
                    <section class="tile transparent">


                        <!-- tile header -->
                        <div class="tile-header color transparent-black textured rounded-top-corners">
                            <h1>
                                <strong>Biểu đồ</strong> thống kê
                            </h1>
                            <div class="controls">
                                <a href="index.html#" class="minimize">
                                    <i class="fa fa-chevron-down"></i>
                                </a> <a href="index.html#"
                                        class="refresh"><i class="fa fa-refresh"></i></a> <a href="index.html#" class="remove"><i class="fa fa-times"></i></a>
                            </div>
                        </div>
                        <!-- /tile header -->
                        <!-- tile widget -->
                        <div class="tile-widget color transparent-black textured">
                            <div id="statistics-chart" class="chart statistics"
                                 style="height: 250px;"></div>
                        </div>
                        <!-- /tile widget -->

                    </section>
                    <!-- /tile -->

                </div>
                <!-- /col 8 -->
                <!-- col 4 -->
                <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12">



                    <!-- tile -->
                    <section class="tile color transparent-black">

                        <!-- tile header -->
                        <div class="tile-header">
                            <h1>
                                <strong>Trình duyệt</strong> sử dụng
                            </h1>
                            <div class="controls">
                                <a href="index.html#" class="minimize">
                                    <i class="fa fa-chevron-down"></i>
                                </a> <a href="index.html#"
                                        class="refresh"><i class="fa fa-refresh"></i></a> <a href="index.html#" class="remove"><i class="fa fa-times"></i></a>
                            </div>
                        </div>
                        <!-- /tile header -->
                        <!-- tile body -->
                        <div class="tile-body">
                            <div id="browser-usage" style="height: 230px;"
                                 class="morris-chart"></div>
                            <ul class="inline text-center chart-legend">
                                <li>
                                    <span class="badge badge-outline"
                                          style="border-color: #00a3d8"></span> Chrome <small>25%</small>,
                                </li>
                                <li>
                                    <span class="badge badge-outline"
                                          style="border-color: #1693A5"></span> Khác <small>25%</small>,
                                </li>
                                <li>
                                    <span class="badge badge-outline"
                                          style="border-color: #2fbbe8"></span> Safari <small>20%</small>,
                                </li>
                                <li>
                                    <span class="badge badge-outline"
                                          style="border-color: #72cae7"></span> Firefox <small>15%</small>,
                                </li>
                                <li>
                                    <span class="badge badge-outline"
                                          style="border-color: #ffc100"></span> Internet Explorer <small>10%</small>,
                                </li>
                                <li>
                                    <span class="badge badge-outline"
                                          style="border-color: #d9544f"></span> Opera <small>5%</small>
                                </li>
                            </ul>
                        </div>
                        <!-- /tile body -->


                    </section>
                    <!-- /tile -->

                </div>
                <!-- /col 4 -->

            </div>
            <!-- /row -->
            <!-- row -->
            <div class="row">

                <!-- col 12 -->
                <div class="col-md-6 col-md-offset-3">

                    <!-- tile -->
                    <section class="tile transparent">


                        <!-- tile header -->
                        <div class="tile-header transparent">
                            <h1>
                                <strong>Tin nhắn</strong> nhanh
                            </h1>
                            <div class="controls">
                                <a href="index.html#" class="minimize">
                                    <i class="fa fa-chevron-down"></i>
                                </a> <a href="index.html#"
                                        class="refresh"><i class="fa fa-refresh"></i></a> <a href="index.html#" class="remove"><i class="fa fa-times"></i></a>
                            </div>
                        </div>
                        <!-- /tile header -->
                        <!-- tile widget -->
                        <div class="tile-widget color transparent-black rounded-top-corners">
                            <form class="form-horizontal" role="form">
                                <div class="form-group">
                                    <label for="message-to"
                                           class="col-sm-2 control-label font-slab">Người nhận</label>
                                    <div class="col-sm-10">
                                        <select data-placeholder="Nhập email người nhận ..." multiple=""
                                                tabindex="3"
                                                class="chosen-select form-control chosen-transparent"
                                                id="message-to">
                                            <option value="ici@gmail.com">ici@gmail.com</option>
                                            <option value="johny@gmail.com">johny@gmail.com</option>
                                            <option value="arnie@gmail.com">arnie@gmail.com</option>
                                            <option value="pete@gmail.com">pete@gmail.com</option>
                                            <option value="gorge@gmail.com">gorge@gmail.com</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group no-bottom-margin">
                                    <label for="subject" class="col-sm-2 control-label font-slab">Chủ đề</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control transparent"
                                               id="subject" placeholder="Nội dung...">
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- /tile widget -->
                        <!-- tile body -->
                        <div class="tile-body nopadding">
                            <div id="quick-message-content"></div>
                        </div>
                        <!-- /tile body -->
                        <!-- tile footer -->
                        <div class="tile-footer rounded-bottom-corners text-right">
                            <a class="submit font-slab" href="index.html#">
                                <strong>Gửi</strong>
                                tin nhắn <i class="fa fa-comment"></i>
                            </a>
                        </div>
                        <!-- /tile footer -->


                    </section>
                    <!-- /tile -->


                </div>
                <!-- /col 12 -->


            </div>
            <!-- /row -->

        </div>
        <!-- /content container -->

    </div>
    <!-- Page content end -->


    <script>
        $(function () {

            // Initialize card flip
            $('.card.hover').hover(function () {
                $(this).addClass('flip');
            }, function () {
                $(this).removeClass('flip');
            });

            // Initialize flot chart
            var d1 = [[1, 715], [2, 985], [3, 1525], [4, 1254],
                    [5, 1861], [6, 2621], [7, 1987], [8, 2136],
                    [9, 2364], [10, 2851], [11, 1546], [12, 2541]];
            var d2 = [[1, 463], [2, 578], [3, 327], [4, 984],
                    [5, 1268], [6, 1684], [7, 1425], [8, 1233],
                    [9, 1354], [10, 1200], [11, 1260], [12, 1320]];
            var months = ["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4",
                    "Tháng 5", "Tháng 6", "Tháng 7", "Tháng 8", "Tháng 9",
                    "Tháng 10", "Tháng 11", "Tháng 12"];

            // flot chart generate
            var plot = $.plotAnimator($("#statistics-chart"), [{
                label: 'Thích',
                data: d1,
                lines: {
                    lineWidth: 3
                },
                shadowSize: 0,
                color: '#ffffff'
            }, {
                label: "Lượt truy cập",
                data: d2,
                animator: {
                    steps: 99,
                    duration: 500,
                    start: 200,
                    direction: "right"
                },
                lines: {
                    fill: .15,
                    lineWidth: 0
                },
                color: ['#ffffff']
            }, {
                label: 'Thích',
                data: d1,
                points: {
                    show: true,
                    fill: true,
                    radius: 6,
                    fillColor: "rgba(0,0,0,.5)",
                    lineWidth: 2
                },
                color: '#fff',
                shadowSize: 0
            }, {
                label: "Lượt truy cập",
                data: d2,
                points: {
                    show: true,
                    fill: true,
                    radius: 6,
                    fillColor: "rgba(255,255,255,.2)",
                    lineWidth: 2
                },
                color: '#fff',
                shadowSize: 0
            }], {

                xaxis: {

                    tickLength: 0,
                    tickDecimals: 0,
                    min: 1,
                    ticks: [[1, "1"], [2, "2"], [3, "3"], [4, "4"],
                            [5, "5"], [6, "6"], [7, "7"], [8, "8"],
                            [9, "9"], [10, "10"], [11, "11"],
                            [12, "12"]],

                    font: {
                        lineHeight: 24,
                        weight: "300",
                        color: "#ffffff",
                        size: 14
                    }
                },

                yaxis: {
                    ticks: 4,
                    tickDecimals: 0,
                    tickColor: "rgba(255,255,255,.3)",

                    font: {
                        lineHeight: 13,
                        weight: "300",
                        color: "#ffffff"
                    }
                },

                grid: {
                    borderWidth: {
                        top: 0,
                        right: 0,
                        bottom: 1,
                        left: 1
                    },
                    borderColor: 'rgba(255,255,255,.3)',
                    margin: 0,
                    minBorderMargin: 0,
                    labelMargin: 20,
                    hoverable: true,
                    clickable: true,
                    mouseActiveRadius: 6
                },

                legend: {
                    show: false
                }
            });

            $(window).resize(function () {
                // redraw the graph in the correctly sized div
                plot.resize();
                plot.setupGrid();
                plot.draw();
            });

            $('#mmenu').on("opened.mm", function () {
                // redraw the graph in the correctly sized div
                plot.resize();
                plot.setupGrid();
                plot.draw();
            });

            $('#mmenu').on("closed.mm", function () {
                // redraw the graph in the correctly sized div
                plot.resize();
                plot.setupGrid();
                plot.draw();
            });

            // tooltips showing
            $("#statistics-chart").bind(
                    "plothover",
                    function (event, pos, item) {
                        if (item) {
                            var x = item.datapoint[0], y = item.datapoint[1];

                            $("#tooltip").html(
                                    '<h1 style="color: #418bca">'
                                            + months[x - 1] + '</h1>'
                                            + '<strong>' + y + '</strong>'
                                            + ' ' + item.series.label).css({
                                                top: item.pageY - 30,
                                                left: item.pageX + 5
                                            }).fadeIn(200);
                        } else {
                            $("#tooltip").hide();
                        }
                    });

            //tooltips options
            $("<div id='tooltip'></div>").css({
                position: "absolute",
                //display: "none",
                padding: "10px 20px",
                "background-color": "#ffffff",
                "z-index": "99999"
            }).appendTo("body");

            //generate actual pie charts
            $('.pie-chart').easyPieChart();

            // Morris donut chart
            Morris.Donut({
                element: 'browser-usage',
                data: [{
                    label: "Chrome",
                    value: 25
                }, {
                    label: "Safari",
                    value: 20
                }, {
                    label: "Firefox",
                    value: 15
                }, {
                    label: "Opera",
                    value: 5
                }, {
                    label: "Internet Explorer",
                    value: 10
                }, {
                    label: "Khác",
                    value: 25
                }],
                colors: ['#00a3d8', '#2fbbe8', '#72cae7', '#d9544f',
                        '#ffc100', '#1693A5']
            });

            $('#browser-usage').find("path[stroke='#ffffff']").attr('stroke',
                    'rgba(0,0,0,0)');

            //sparkline charts
            $('#projectbar1').sparkline('html', {
                type: 'bar',
                barColor: '#22beef',
                barWidth: 4,
                height: 20
            });
            $('#projectbar2').sparkline('html', {
                type: 'bar',
                barColor: '#cd97eb',
                barWidth: 4,
                height: 20
            });
            $('#projectbar3').sparkline('html', {
                type: 'bar',
                barColor: '#a2d200',
                barWidth: 4,
                height: 20
            });
            $('#projectbar4').sparkline('html', {
                type: 'bar',
                barColor: '#ffc100',
                barWidth: 4,
                height: 20
            });
            $('#projectbar5').sparkline('html', {
                type: 'bar',
                barColor: '#ff4a43',
                barWidth: 4,
                height: 20
            });
            $('#projectbar6').sparkline('html', {
                type: 'bar',
                barColor: '#a2d200',
                barWidth: 4,
                height: 20
            });

            // sortable table
            $('.table.table-sortable th.sortable').click(
                    function () {
                        var o = $(this).hasClass('sort-asc') ? 'sort-desc'
                                : 'sort-asc';
                        $('th.sortable').removeClass('sort-asc').removeClass(
                                'sort-desc');
                        $(this).addClass(o);
                    });

            //todo's
            $('#todolist li label').click(function () {
                $(this).toggleClass('done');
            });

            // Initialize tabDrop
            $('.tabdrop').tabdrop({
                text: '<i class="fa fa-th-list"></i>'
            });

            //load wysiwyg editor
            $('#quick-message-content').summernote(
                    {
                        toolbar: [
                                //['style', ['style']], // no style button
                                [
                                        'style',
                                        ['bold', 'italic', 'underline',
                                                'clear']],
                                ['fontsize', ['fontsize']],
                                ['color', ['color']],
                                ['para', ['ul', 'ol', 'paragraph']],
                                ['height', ['height']],
                        //['insert', ['picture', 'link']], // no insert buttons
                        //['table', ['table']], // no table button
                        //['help', ['help']] //no help button
                        ],
                        height: 143
                        //set editable area's height
                    });

            //multiselect input
            $(".chosen-select").chosen({
                disable_search_threshold: 10
            });

        })
    </script>


    <script>
        $(function () {

            // Add custom class to pagination div
            $.fn.dataTableExt.oStdClasses.sPaging = 'dataTables_paginate paging_bootstrap paging_custom';

            $('div.dataTables_filter input').addClass('form-control');
            $('div.dataTables_length select').addClass('form-control');

            /*************************************************/
            /**************** BASIC DATATABLE ****************/
            /*************************************************/

            /* Define two custom functions (asc and desc) for string sorting */
            jQuery.fn.dataTableExt.oSort['string-case-asc'] = function (x, y) {
                return ((x < y) ? -1 : ((x > y) ? 1 : 0));
            };

            jQuery.fn.dataTableExt.oSort['string-case-desc'] = function (x, y) {
                return ((x < y) ? 1 : ((x > y) ? -1 : 0));
            };

            /* Add a click handler to the rows - this could be used as a callback */
            $("#basicDataTable tbody tr").click(function (e) {
                if ($(this).hasClass('row_selected')) {
                    $(this).removeClass('row_selected');
                } else {
                    oTable01.$('tr.row_selected').removeClass('row_selected');
                    $(this).addClass('row_selected');
                }

                // FadeIn/Out delete rows button
                if ($('#basicDataTable tr.row_selected').length > 0) {
                    $('#deleteRow').stop().fadeIn(300);
                } else {
                    $('#deleteRow').stop().fadeOut(300);
                }
            });

            /* Build the DataTable with third column using our custom sort functions */
            var oTable01 = $('#basicDataTable')
                    .dataTable(
                            {
                                "sDom": "R<'row'<'col-md-6'l><'col-md-6'f>r>"
                                        + "t"
                                        + "<'row'<'col-md-4 sm-center'i><'col-md-4'><'col-md-4 text-right sm-center'p>>",
                                "oLanguage": {
                                    "sSearch": ""
                                },
                                "aaSorting": [[0, 'asc'], [1, 'asc']],
                                "aoColumns": [null, null, {
                                    "sType": 'string-case'
                                }, null, null],
                                "fnInitComplete": function (oSettings, json) {
                                    $('.dataTables_filter input').attr(
                                            "placeholder", "Search");
                                }
                            });

            // Append delete button to table
            var deleteRowLink = '<a href="statistic.html#" id="deleteRow" class="btn btn-red btn-xs delete-row">Xóa dòng đang chọn</a>'
            $('#basicDataTable_wrapper').append(deleteRowLink);

            /* Add a click handler for the delete row */
            $('#deleteRow').click(function () {
                var anSelected = fnGetSelected(oTable01);
                if (anSelected.length !== 0) {
                    oTable01.fnDeleteRow(anSelected[0]);
                    $('#deleteRow').stop().fadeOut(300);
                }
            });

            /* Get the rows which are currently selected */
            function fnGetSelected(oTable01Local) {
                return oTable01Local.$('tr.row_selected');
            }
            ;

            /*******************************************************/
            /**************** INLINE EDIT DATATABLE ****************/
            /*******************************************************/

            function restoreRow(oTable02, nRow) {
                var aData = oTable02.fnGetData(nRow);
                var jqTds = $('>td', nRow);

                for (var i = 0, iLen = jqTds.length; i < iLen; i++) {
                    oTable02.fnUpdate(aData[i], nRow, i, false);
                }

                oTable02.fnDraw();
            }
            ;

            function editRow(oTable02, nRow) {
                var aData = oTable02.fnGetData(nRow);
                var jqTds = $('>td', nRow);
                jqTds[0].innerHTML = '<input type="text" value="' + aData[0] + '" class="form-control">';
                jqTds[1].innerHTML = '<input type="text" value="' + aData[1] + '" class="form-control">';
                jqTds[2].innerHTML = '<input type="text" value="' + aData[2] + '" class="form-control">';
                jqTds[3].innerHTML = '<input type="text" value="' + aData[3] + '" class="form-control">';
                jqTds[4].innerHTML = '<input type="text" value="' + aData[4] + '" class="form-control">';
                jqTds[5].innerHTML = '<input type="text" value="' + aData[5] + '" class="form-control">';
                jqTds[6].innerHTML = '<input type="text" value="' + aData[6] + '" class="form-control">';
                jqTds[7].innerHTML = '<a class="edit save" href="statistic.html#">Lưu</a><a class="delete" href="statistic.html#">Xóa</a>';
            }
            ;

            function saveRow(oTable02, nRow) {
                var jqInputs = $('input', nRow);
                oTable02.fnUpdate(jqInputs[0].value, nRow, 0, false);
                oTable02.fnUpdate(jqInputs[1].value, nRow, 1, false);
                oTable02.fnUpdate(jqInputs[2].value, nRow, 2, false);
                oTable02.fnUpdate(jqInputs[3].value, nRow, 3, false);
                oTable02.fnUpdate(jqInputs[4].value, nRow, 4, false);
                oTable02.fnUpdate(jqInputs[5].value, nRow, 5, false);
                oTable02.fnUpdate(jqInputs[6].value, nRow, 6, false);
                oTable02
                        .fnUpdate(
                                '<a class="ban" href="statistic.html#">Duyệt</a> <a class="edit" href="statistic.html#">Sửa</a><a class="delete" href="statistic.html#">Xóa</a>',
                                nRow, 7, false);
                oTable02.fnDraw();
            }
            ;

            var oTable02 = $('#inlineEditDataTable')
                    .dataTable(
                            {
                                "sDom": "R<'row'<'col-md-6'l><'col-md-6'f>r>"
                                        + "t"
                                        + "<'row'<'col-md-4 sm-center'i><'col-md-4'><'col-md-4 text-right sm-center'p>>",
                                "oLanguage": {
                                    "sSearch": ""
                                },
                                "aoColumnDefs": [{
                                    'bSortable': false,
                                    'aTargets': ["no-sort"]
                                }],
                                "fnInitComplete": function (oSettings, json) {
                                    $('.dataTables_filter input').attr(
                                            "placeholder", "Tìm kiếm");
                                }
                            });

            // Append add row button to table
            var addRowLink = '<a href="statistic.html#" id="addRow" class="btn btn-green btn-xs add-row">Thêm mới</a>'
            $('#inlineEditDataTable_wrapper').append(addRowLink);

            var nEditing = null;

            // Add row initialize
            $('#addRow')
                    .click(
                            function (e) {
                                e.preventDefault();

                                // Only allow a new row when not currently editing
                                if (nEditing !== null) {
                                    return;
                                }

                                var aiNew = oTable02
                                        .fnAddData([
                                                '',
                                                '',
                                                '',
                                                '',
                                                '',
                                                '',
                                                '',
                                                '<a class="edit" href="user-management.html">Sửa</a>',
                                                '<a class="delete" href="user-management.html">Xóa</a>']);
                                var nRow = oTable02.fnGetNodes(aiNew[0]);
                                editRow(oTable02, nRow);
                                nEditing = nRow;

                                $(nRow).find('td:last-child').addClass(
                                        'actions text-center');
                            });

            // Delete row initialize
            $(document).on("click", "#inlineEditDataTable a.delete",
                    function (e) {
                        e.preventDefault();

                        var nRow = $(this).parents('tr')[0];
                        oTable02.fnDeleteRow(nRow);
                    });

            // Edit row initialize
            $(document).on("click", "#inlineEditDataTable a.edit", function (e) {
                e.preventDefault();

                /* Get the row as a parent of the link that was clicked on */
                var nRow = $(this).parents('tr')[0];

                if (nEditing !== null && nEditing != nRow) {
                    /* A different row is being edited - the edit should be cancelled and this row edited */
                    restoreRow(oTable02, nEditing);
                    editRow(oTable02, nRow);
                    nEditing = nRow;
                } else if (nEditing == nRow && this.innerHTML == "Lưu") {
                    /* This row is being edited and should be saved */
                    saveRow(oTable02, nEditing);
                    nEditing = null;
                } else {
                    /* No row currently being edited */
                    editRow(oTable02, nRow);
                    nEditing = nRow;
                }
            });

            /******************************************************/
            /**************** DRILL DOWN DATATABLE ****************/
            /******************************************************/

            var anOpen = [];

            var oTable03 = $('#drillDownDataTable')
                    .dataTable(
                            {
                                "sDom": "R<'row'<'col-md-6'l><'col-md-6'f>r>"
                                        + "t"
                                        + "<'row'<'col-md-4 sm-center'i><'col-md-4'><'col-md-4 text-right sm-center'p>>",
                                "oLanguage": {
                                    "sSearch": ""
                                },
                                "aoColumnDefs": [{
                                    'bSortable': false,
                                    'aTargets': ["no-sort"]
                                }],
                                "aaSorting": [[1, "asc"]],
                                "bProcessing": true,
                                "sAjaxSource": "Content/js/vendor/datatables/ajax/sources/objects.txt",
                                "aoColumns": [
                                        {
                                            "mDataProp": null,
                                            "sClass": "control text-center",
                                            "sDefaultContent": '<a href="statistic.html#"><i class="fa fa-plus"></i></a>'
                                        }, {
                                            "mDataProp": "engine"
                                        }, {
                                            "mDataProp": "browser"
                                        }, {
                                            "mDataProp": "grade"
                                        }],
                                "fnInitComplete": function (oSettings, json) {
                                    $('.dataTables_filter input').attr(
                                            "placeholder", "Search");
                                }
                            });

            $(document).on(
                    'click',
                    '#drillDownDataTable td.control',
                    function () {
                        var nTr = this.parentNode;
                        var i = $.inArray(nTr, anOpen);

                        $(anOpen).each(function () {
                            if (this !== nTr) {
                                $('td.control', this).click();
                            }
                        });

                        if (i === -1) {
                            $('i', this).removeClass().addClass('fa fa-minus');
                            $(this).parent().addClass('drilled');
                            var nDetailsRow = oTable03.fnOpen(nTr,
                                    fnFormatDetails(oTable03, nTr), 'details');
                            $('div.innerDetails', nDetailsRow).slideDown();
                            anOpen.push(nTr);
                        } else {
                            $('i', this).removeClass().addClass('fa fa-plus');
                            $(this).parent().removeClass('drilled');
                            $('div.innerDetails', $(nTr).next()[0]).slideUp(
                                    function () {
                                        oTable03.fnClose(nTr);
                                        anOpen.splice(i, 1);
                                    });
                        }

                        return false;
                    });

            function fnFormatDetails(oTable03, nTr) {
                var oData = oTable03.fnGetData(nTr);
                var sOut = '<div class="innerDetails">'
                        + '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">'
                        + '<tr><td>Rendering engine:</td><td>' + oData.engine
                        + '</td></tr>' + '<tr><td>Browser:</td><td>'
                        + oData.browser + '</td></tr>'
                        + '<tr><td>Platform:</td><td>' + oData.platform
                        + '</td></tr>' + '<tr><td>Version:</td><td>'
                        + oData.version + '</td></tr>'
                        + '<tr><td>Grade:</td><td>' + oData.grade
                        + '</td></tr>' + '</table>' + '</div>';
                return sOut;
            }
            ;

            /****************************************************/
            /**************** ADVANCED DATATABLE ****************/
            /****************************************************/

            var oTable04 = $('#advancedDataTable')
                    .dataTable(
                            {
                                "sDom": "<'row'<'col-md-4'l><'col-md-4 text-center sm-left'T C><'col-md-4'f>r>"
                                        + "t"
                                        + "<'row'<'col-md-4 sm-center'i><'col-md-4'><'col-md-4 text-right sm-center'p>>",
                                "oLanguage": {
                                    "sSearch": ""
                                },
                                "oTableTools": {
                                    "sSwfPath": "Content/js/vendor/datatables/tabletools/swf/copy_csv_xls_pdf.swf",
                                    "aButtons": [
                                            "copy",
                                            "print",
                                            {
                                                "sExtends": "collection",
                                                "sButtonText": 'Lưu <span class="caret" />',
                                                "aButtons": ["csv", "xls",
                                                        "pdf"]
                                            }]
                                },
                                "fnInitComplete": function (oSettings, json) {
                                    $('.dataTables_filter input').attr(
                                            "placeholder", "Search");
                                },
                                "oColVis": {
                                    "buttonText": '<i class="fa fa-eye"></i>'
                                }
                            });

            $('.ColVis_MasterButton').on('click', function () {
                var newtop = $('.ColVis_collection').position().top - 45;

                $('.ColVis_collection').addClass('dropdown-menu');
                $('.ColVis_collection>li>label').addClass('btn btn-default')
                $('.ColVis_collection').css('top', newtop + 'px');
            });

            $('.DTTT_button_collection').on('click', function () {
                var newtop = $('.DTTT_dropdown').position().top - 45;
                $('.DTTT_dropdown').css('top', newtop + 'px');
            });

            //initialize chosen
            $('.dataTables_length select').chosen({
                disable_search_threshold: 10
            });

            // Add custom class
            $('div.dataTables_filter input').addClass('form-control');
            $('div.dataTables_length select').addClass('form-control');

        })
    </script>
</body>
